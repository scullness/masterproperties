function _defineProperty(t,e,i){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==typeof e?e:e+""}function _toPrimitive(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}void 0===SK.Util&&(SK.Util={}),SK.Util.isClient=function(){return SK.Singletons&&SK.Singletons.env&&SK.Singletons.env.get("client")},SK.Util.isES6Class=function(t){return"function"==typeof t&&/^class\s?/.test(Function.prototype.toString.call(t))},SK.Util.getType=function(t){switch(!0){case null===t:return"null";case NaN===t:return"NaN";case t instanceof Date:return"date";case SK.Util.isClient()&&t instanceof HTMLElement:return"element";case Array.isArray(t):return"array";default:return typeof t}},SK.Util.deepAssign=function(t,e){var i=SK.Util.getType(t);if("object"!=i&&"array"!=i)return t;for(var n="array"==i,a=1,s=arguments.length;a<s;a++){var o=arguments[a];if(null!=o&&i==SK.Util.getType(o))for(var p=Object.keys(o),r=0,l=p.length;r<l;r++){var c=p[r],u=SK.Util.getType(o[c]),S=c;n&&-1==t.indexOf(t[c])&&(S=t.length),"object"==u||"array"==u?(t[S]=t[S]?t[S]:"object"==u?{}:[],SK.Util.deepAssign(t[S],o[c])):t[S]=o[c]}}return t},SK.Util.compare=function(t,e){if(t===e)return!0;var i=SK.Util.getType(t);if(i!=SK.Util.getType(e))return!1;switch(i){case"NaN":case"null":case"string":case"number":case"boolean":case"element":case"undefined":return!1;case"date":return t.getTime()==e.getTime();case"array":return t.length==e.length&&t.every(function(t,e,i){return SK.Util.compare(i[e],this[e])},e);case"object":case"hash":default:return function(t,e){var i=SK.Util.compare(Object.keys(t).sort(),Object.keys(e).sort());for(var n in t){if(!i)return!1;i=t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&SK.Util.compare(t[n],e[n])}return i}(t,e)}return!1},SK.Util.extractStockImageURL=function(t,e){return e=e||"original",t.sizes[e]+"#STOCKIMGID"+t.collection_id+"___"+t.id+"___"+e},SK.Util.typeOf=function(t){return{}.toString.apply(t).match(/\s(\w+)/)[1].toLowerCase()},function(){var getter=function(locals){with(locals)return SK.Applications.Settings=function(t){this.options=t},SK.Applications.Settings.prototype={constructor:SK.Applications.Settings,set:function(t,e,i){new SK.API(this.options.session_id).execute("app.user.set_settings",{user_id:this.options.user_id,app_id:this.options.app_id,settings:JSON.stringify(t)},function(t,e,i){t?this.callback_ok(i):this.callback_failure(e)}.bind({callback_ok:e,callback_failure:i}))},get:function(t,e){new SK.API(this.options.session_id).execute("app.user.get_settings",{user_id:this.options.user_id,app_id:this.options.app_id},function(t,e,i){t?this.callback_ok(i):this.callback_failure(e)}.bind({callback_ok:t,callback_failure:e}))}},SK};"undefined"!=typeof module?module.exports=getter:this.SK=getter(this)}(),SK.React=SK.React||{},SK.React.Component=SK.React.Component||{},SK.React.Component.Application=SK.React.Component.Application||{},function(){var t;SK.Singletons.env.get("is_app_settings")&&(t=((((("undefined"==typeof parent?{}:parent).SK||{}).React||{}).Component||{}).Application||{}).GlobalData),SK.React.Component.Application.GlobalData=SK.React.Component.Application.GlobalData||t||{data:{},callbacks:[],is_admin:SK.Singletons.env.get("admin_mode"),update_interval:null,timeout:2e3,initAppData(t,e,i){this.data[t]=this.data[t]||{options:i||{},properties:e}},getAppData(t){return(this.data[t]||{}).options},setAppData(t,e,i,n){var a={};for(let t in e)e.hasOwnProperty(t)&&0!==t.indexOf("__")&&(a[t]=e[t]);if(this.data[t].options=a,Object.keys(a).length){for(var s in this.callbacks)this.callbacks.hasOwnProperty(s)&&(this.callbacks[s]||function(){})(t,a);i&&(clearTimeout(this.update_interval),this.update_interval=setTimeout(this.saveSettings.bind(this,t,a,n),this.timeout))}},saveSettings(t,e,i){this.is_admin&&(this.data[t].app_settings=this.data[t].app_settings||new SK.Applications.Settings(this.data[t].properties),this.data[t].app_settings.set(e,i||function(){},void 0))},addChangeListener(t){this.callbacks.push(t)},removeChangeListener(t){this.callbacks.splice(this.callbacks.indexOf(t),1)}}}(),SK.React=SK.React||{},SK.React.Component=SK.React.Component||{},SK.React.Component.Application=SK.React.Component.Application||{},SK.React.Component.Application.Settings=SK.React.Component.Application.Settings||class extends React.Component{constructor(t){super(t),_defineProperty(this,"is_properties_save_allowed",!0),this.state=t.settings||{},SK.React.Component.Application.GlobalData.initAppData(this.props.app_id,t,t.settings),this.updateSettings=this.updateSettings.bind(this),SK.React.Component.Application.GlobalData.addChangeListener(this.updateSettings)}updateSettings(){super.setState(SK.React.Component.Application.GlobalData.getAppData(this.props.app_id))}setState(t,e){e=e||function(){};const i=this.state;super.setState(t,(...t)=>{SK.Util.compare(this.state,i)||SK.React.Component.Application.GlobalData.setAppData(this.props.app_id,this.state,SK.Singletons.env.get("is_app_settings")&&this.isPropertiesSaveAllowed()),e(...t)})}isPropertiesSaveAllowed(){return this.is_properties_save_allowed}allowPropertiesSave(t){this.is_properties_save_allowed=t}shouldComponentUpdate(t,e){return!0}render(){return React.createElement("div",null)}componentDidUpdate(t,e){}componentDidMount(){}componentWillUnmount(){}},SK.React.Component.Application=SK.React.Component.Application||{},SK.React.Component.Application.Display=class extends SK.React.Component.Display{constructor(t){super(t),this.state.__settings=SK.React.Component.Application.GlobalData.getAppData(this.props.app_id)||t.settings||{},SK.React.Component.Application.GlobalData.initAppData(this.props.app_id,t,t.settings),this.updateSettings=this.updateSettings.bind(this),SK.React.Component.Application.GlobalData.addChangeListener(this.updateSettings)}updateSettings(t){t==this.props.app_id&&(this.getBaseSetState?this.getBaseSetState():this.setState.bind(this))({__settings:SK.React.Component.Application.GlobalData.getAppData(this.props.app_id)})}updateStateValues(t,e){return e.__settings&&(e.__settings=SK.Util.deepAssign({},t.__settings,e.__settings)),e}executeObjectSet(t,e){super.executeObjectSet(t,e),e.__settings&&SK.React.Component.Application.GlobalData.setAppData(this.props.app_id,t.__settings,this.edit_mode&&this.isPropertiesSaveAllowed())}},SK.React.Component.Application=SK.React.Component.Application||{},SK.React.Component.Application.Header=SK.React.Component.Application.Footer=class extends SK.React.Component.Application.Settings{};