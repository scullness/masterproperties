SK="undefined"==typeof SK?{}:SK,SK.addRecursivelyKOObservables=function(e,t){var i={};for(var r in e)if("object"==typeOf(e[r]))i[r]=SK.addRecursivelyKOObservables(e[r],t);else if("array"==typeOf(e[r])){i[r]=t.observableArray([]);for(var o=0,n=e[r].length;o<n;o++)i[r].push(SK.addRecursivelyKOObservables(e[r][o],t))}else i[r]=t.observable(t.unwrap(e[r]));return i},SK.updateRecursivelyKOObservables=function(e,t,i){SK._loopRecursivelyKOObservables(e,t,function(r){t[r].removeAll();for(var o=0,n=e[r].length;o<n;o++)t[r].push(SK.addRecursivelyKOObservables(e[r][o],i))},i)},SK.mergeRecursivelyKOObservables=function(e,t,i){SK._loopRecursivelyKOObservables(e,t,function(r){for(var o=0,n=e[r].length;o<n;o++)t[r]()[o]?SK.mergeRecursivelyKOObservables(e[r][o],t[r]()[o],i):t[r].push(SK.addRecursivelyKOObservables(e[r][o],i))},i)},SK._loopRecursivelyKOObservables=function(e,t,i,r){for(var o in e)t&&t.hasOwnProperty(o)&&("object"==typeOf(e[o])?arguments.callee.call(null,e[o],t[o],r):"function"==typeOf(t[o])&&("array"==typeOf(e[o])?i(o):t[o](e[o])))},SK="undefined"==typeof SK?{}:SK,SK.UI=SK.UI||{},SK.UI.Element=SK.UI.Element||{},SK.UI.Element.RTE=SK.UI.Element.RTE||{},SK.UI.Element.RTE.Display=new Class({Extends:SK.UI.Element.Display,external_widgets_wrapper:null,content_styles:null,default_property_values:{HtmlText:"",Style:""},initialize:function(){this.parent.apply(this,arguments),SK.Util.isMobile()&&this.placeholder.lastElementChild.setAttribute("contenteditable",!1),this.env.revision_id=1},createComputed:function(){this.env.rte_image_old_daids=this.env.ko.observable(""),this.env.rte_media_old_daids=this.env.ko.observable(""),this.env.rte_anchor_old_ids=this.env.ko.observable(""),this.env.editable_html=this.env.ko.observable(""),this.env.rendered_html=this.env.ko.observable(this.env.properties.HtmlText())},initEffects:function(){ApplyImageEffect(),this.getPlaceholder().querySelectorAll("img").forEach(e=>{e.addEventListener("load",()=>{SK.RolloverImageLoader&&SK.RolloverImageLoader.checkForRolloverImages([e])})})},addEditContentStyles:function(){var e=Function.from(this.getProperties().Style)();e?this.content_styles=new Element("style",{type:"text/css",csstext:e}).inject(this.getPlaceholder()):this.removeEditContentStyles()},removeEditContentStyles:function(){this.content_styles&&this.content_styles.destroy()},addExternalWidgetsWrapper:function(){this.external_widgets_wrapper=new Element("div",{styles:{width:0,height:0},events:{mousedown:function(e){e.stopPropagation()}}}).inject(document.body)},removeExternalWidgetsWrapper:function(){this.external_widgets_wrapper&&this.external_widgets_wrapper.destroy()},getExternalWidgetsWrapper:function(){return this.external_widgets_wrapper},getRTEConfigs:function(){return{error_callback:SKMessage,editor_document:document,editor_window:window}},getExceededStorageMessage:function(){return SK.Singletons.env.get("storage_exceeded_message")},handleResponse:function(e,t,i,r){e?(this.env.revision_id=i.meta.revision_id,this.env.rendered_html(i.properties.HtmlText),!this.env.editing_activated()&&this.updateRenderedHtml(this.env.rendered_html()),i.properties.rte_image_old_daids!=this.env.rte_image_old_daids()&&this.updateRTEObjectDAIDs(this.env.rte_image_old_daids,i.properties.rte_image_old_daids,"img:not([type]):not([stock_image_id]):not([rel=default_image])"),i.properties.rte_media_old_daids!=this.env.rte_media_old_daids()&&this.updateRTEObjectDAIDs(this.env.rte_media_old_daids,i.properties.rte_media_old_daids,"img[type=media]"),i.properties.rte_anchor_old_ids!=this.env.rte_anchor_old_ids()&&this.updateRTEObjectDAIDs(this.env.rte_anchor_old_ids,i.properties.rte_anchor_old_ids,"img[type=anchor]","anchid")):SKMessage(t)},updateRTEObjectDAIDs:function(e,t,i,r){r=r||"daid",e(t);var o=t.split(",");this.getPlaceholder().getElements(i).each(function(e){var t=o.shift();e.getAttribute(r)||e.setAttribute(r,t)})},doUndoRedo:function(e,t){var i=SK.Actions.getEditableElements()[0].frame_instance.getContentFrame().contentWindow.RTE_GetById("rte_1").getPluginById("Undo");i&&i.execCommand(e)},beforeStartEdit:function(){this.parent(),this.placeholder.getElements("[contenteditable]").set("contenteditable",SK.Util.isMobile()?"true":"false")},startEdit:function(){this.addExternalWidgetsWrapper(),this.addEditContentStyles(),this.parent.apply(this,arguments),this.has_zero_footprint_method&&this.hideZeroFootprint(),SK.Singletons.top_menu.startRTEEdit()},exitEditing:function(){SK.Singletons.top_menu.endRTEEdit(),this.removeEditContentStyles(),this.removeExternalWidgetsWrapper()},finishEdit:function(){return!!this.parent.apply(this,arguments)&&(this.exitEditing(),!0)},updateRenderedHtml:function(e){(e||"").test(/document\.write|SK\.Widget/gi)?SK.Actions.Common.reloadPage(void 0,["#coordinates",this.getPlaceholder().getCoordinates().top].join("=")):(this.getPlaceholder().getElement(".rte-content-holder").set("html",(e||"").stripScripts(function(e,t,i,r){(r||function(){}).delay(0)})),this.initEffects())}}),SK="undefined"==typeof SK?{}:SK,SK.UI=SK.UI||{},SK.UI.Element=SK.UI.Element||{},SK.UI.Element.RTE=SK.UI.Element.RTE||{},SK.UI.Element.RTE.Forms=SK.UI.Element.RTE.Forms||{},SK.UI.Element.RTE.Forms.DefaultSettings=function(){return{actions:{FormToDB:{props:{database:"-1",database_name:"My Database",ftdb_confirmation_email:"[Please select]",ftdb_confirmation_email_message:"Please click below to confirm your membership.",ftdb_confirmation_email_switch:0,ftdb_moderator_email:SK.Singletons.env.get("user_email"),ftdb_moderator_email_switch:0,template:"",use_template:0},registered:0},MailingList:{props:{ID:-1,email_field:"",name:"My Mailing List",subscribe_field:""},registered:0},SendConfirmEmail:{props:{mail_format:"plain",mail_from:SK.Singletons.env.get("do_not_reply_mail"),mail_to:"[Please select]",subject:"Mail Confirmation Subject",template:'<p class="plain">Thank you for your submission. Your request will be processed as soon as possible.</p>',use_template:"1"},registered:0},SendToEmail:{props:{mail_format:"plain",mail_from:SK.Singletons.env.get("do_not_reply_mail"),mail_to:SK.Singletons.env.get("user_email"),subject:"Mail Subject",template:"",use_template:0},registered:"1"}},field_unique_id:5,props:{name:"Form",next_page:"_NONE_",scroll_to_form:0}}},SK="undefined"==typeof SK?{}:SK,SK.UI=SK.UI||{},SK.UI.Element=SK.UI.Element||{},SK.UI.Element.RTE=SK.UI.Element.RTE||{},SK.UI.Element.RTE.Forms=SK.UI.Element.RTE.Forms||{},SK.UI.Element.RTE.Forms.Display=new Class({Extends:SK.UI.Element.RTE.Display,default_property_values:{HtmlText:"",Style:"",FormProps:"",FieldsInfo:"",RadioGroupProps:"",success_message:""},settings:{databases:[],ret:null,fields_filters:{},databases_id:-1},is_form_settings_validated:!0,form_settings_window:null,form_submission_timer:null,initialize:function(e,t){e.form_props=SK.Util.decodeJSON(e.properties.FormProps),e.page_url=location.pathname+location.search,e.target_area=SK.Singletons.env.get("admin_mode")?0:1,e.user_id=SK.Singletons.env.get("user_id");try{SK.Singletons.env.get("allow_form_manual_mail_update")||(delete e.form_props.actions.SendConfirmEmail.props.mail_from,delete e.form_props.actions.SendToEmail.props.mail_from)}catch(e){}e.form_props=Object.merge(SK.UI.Element.RTE.Forms.DefaultSettings(),e.form_props),this.setSettings({databases_id:Function.from(e.form_props.actions.FormToDB.props.database)()}),this.parent(e,t),SK.Singletons.domreadypromise.then(function(){this.initForm()}.bind(this)),this.removeBrowserNativeEditableOptions()},removeBrowserNativeEditableOptions:function(){["firefox","ie"].contains(Browser.name)&&(document.execCommand("enableObjectResizing",!1,"false"),document.execCommand("enableInlineTableEditing",null,!1))},createObservables:function(){this.parent(),this.env.form_props=SK.addRecursivelyKOObservables(this.env.form_props,this.env.ko),this.env.ko.computed(function(){return this.env.ko.toJS(this.env.form_props)}.bind(this)).subscribe(this.env.properties.FormProps)},initForm:function(){var e=Function.from(((this.env.form_props||{}).props||{}).name)()+"_"+this.env.node_id;void 0===SK.Singletons.lifecycle&&(Form_setMapField(),Form_Initialize(this.env.node_id,e),this.form_submission_timer=Form_AllowFormSubmissionDelayed(this.env.node_id,this.getPlaceholder().getElement("[id="+e+"]")),this.showFormMessage())},handleResponse:function(e,t,i,r){var o=this.getProperty("FormProps");if((o="object"==typeof o?o:SK.Util.decodeJSON(o))&&1==((o.actions||{}).FormToDB||{}).registered&&-1==((o.actions.FormToDB.props||{}).database||"-1").toInt()){let{database:e,database_name:t}=i.properties.FormProps.actions.FormToDB.props;this.setSettings({databases_id:e,databases_list:this.settings.databases_list.push({Name:t,ID:e})&&this.settings.databases_list});let r=this.env.form_props.actions.FormToDB.props;r.database(e),r.database_name(t),this.setProperty("FormProps",JSON.stringify(i.properties.FormProps))}this.parent.apply(this,arguments)},openFormProperties:function(e){this.form_settings_window=new SK.Window({content_url:SK.Util.getURLWithLanguage("/Core/Elements/Form/Settings/properties.htm",{get_element_instance:"SK.Actions.getElementInstance",node_id:e.node_id,rand:String.uniqueID()}),title:"Form Properties",toolbar_bottom:!0,closable:!1,width:parseInt(screen.width)>800?1100:780,height:parseInt(screen.width)>800?780:580,onClose:this.closeFormProperties.bind(this)}),this.form_settings_window.display()},closeFormProperties:function(){this.form_settings_window=null},getFormSettingsWindow:function(){return this.form_settings_window},showFormMessage:function(){if("undefined"!=typeof Cookie){var e="success",t="",i=Cookie.read("form_action_status_"+this.env.node_id),r=_$("form_status_msg_holder_"+this.env.node_id);if(i&&r){i=SK.Util.decodeJSON(i);for(var o=Function.from((this.env.properties||{}).success_message)(),n=0,a=i.length;n<a;n++)0!=i[n].err_code&&(e="error"),t=0==i[n].err_code&&o?o:i[n].msg;!i.length&&o&&(t=o),r.addClass("form-message-"+e).setStyle("display","").getElement(".form-message").set("html",t),r.getElement(".form-message-icon").addClass("form-message-icon-"+e),document.cookie=`form_action_status_${this.env.node_id}=; expires=-1; path=/;`;var s=this.getProperty("FormProps");(s="object"==typeof s?s:SK.Util.decodeJSON(s)).props.scroll_to_form&&["",null,"_NONE_"].includes(s.props.next_page)&&SK.Singletons.loadpromise.then(()=>{setTimeout(()=>{let e=r.getBoundingClientRect()||{};window.scroll(0,e.y)},0)})}this.replaceMessagePlaceholder()}},replaceMessagePlaceholder:function(){var e=this.getPlaceholder().getElement('[rel="messages-placeholder"]'),t=_$("form-messages-placeholder-"+this.env.node_id);e&&t&&t.replaces(e)},setSettings:function(e){this.settings=Object.append({},this.settings,e)},getSettings:function(){return this.settings},startEdit:function(){this.parent.apply(this,arguments),clearTimeout(this.form_submission_timer)},updateRenderedHtml:function(){this.parent.apply(this,arguments),this.initForm()}});var FIELD_CONST_SHARED=void 0===FIELD_CONST_SHARED?{}:FIELD_CONST_SHARED,FORM_ACTIONS_CONST_SHARED=void 0===FORM_ACTIONS_CONST_SHARED?{}:FORM_ACTIONS_CONST_SHARED,MSG_INCORRECT_VALUE="Your form contains an error. Please correct the highlighted field below.",MSG_INCORRECT_VALUES="Your form contains {nr_errors} errors. Please correct the highlighted fields below.",BCKG_COLOR_VALUE_INVALID="#FFFFBF",BCKG_COLOR_VALUE_VALID="#FFFFFF",FIELD_CONST={ATTRIBUTE_SRC:"src",ATTRIBUTE_ID:"id",ATTRIBUTE_WIDTH:"width",ATTRIBUTE_HEIGHT:"height",ATTRIBUTE_HINT:"hint",FIELD_SELECTOR_CSS:"selectobject",ATTRIBUTE_FIELD_AUTOFILL:"field_default_value",ATTRIBUTE_FIELD_VALIDATOR:"field_validator",ATTRIBUTE_FIELD_MAXLENGTH:"field_maxlength",ATTRIBUTE_FIELD_WIDTH:"field_width",ATTRIBUTE_FIELD_HEIGHT:"field_height",ATTRIBUTE_FIELD_HINT:"field_hint",ATTRIBUTE_FIELD_WRAP:"field_wrap",ATTRIBUTE_FIELD_DEFAULT_VALUE:"field_default_value",ATTRIBUTE_FIELD_OPTIONS:"field_options",ATTRIBUTE_FIELD_VALUE:"field_value",ATTRIBUTE_FIELD_CHECKED:"field_checked",ATTRIBUTE_FIELD_MANDATORY:"field_mandatory",PASTED_FIELD_PREFIX:"copy_of_",PLUGIN_NAME_VALIDATOR:'value_validator = "__validator__reg_exp" validator_options = \'{"reg_exp":"^[A-Za-zЀ-ӿΑ-ώ-ÿŐőŰűӲӳ_-][A-Za-zЀ-ӿΑ-ώ-ÿŐőŰűӲӳ0-9_-]+$"}\' value_invalid_msg = "Incorrect Value!\nPlease correct the marked field.\n\nThe name can contain only letters, digits, underscore (_) or dash (-)\nand cannot start with a digit."'};for(var i in FIELD_CONST_SHARED)FIELD_CONST[i]=FIELD_CONST_SHARED[i];var FORM_ACTIONS_CONST={SUBMIT_CAPTION_PROP_NAME:"submit_caption",PROP_PREFIX:"__action_prop__",LABEL_PROP_PREFIX:"__action_label__",HOLDER_ELEMENT_PREFIX:"__action_holder__",NAME_ATTRIBUTE:"action_name",EDIT_TMPL_LINK_HOLDER_ID:"edit_tmpl_link",TMPL_FIELD_PARAM_TYPE:"field_param",TMPL_FIELD_NAME_PREFIX:"$",composeActionPropPrefix:function(e){return FORM_ACTIONS_CONST.PROP_PREFIX+e},composeActionPropName:function(e,t){return FORM_ACTIONS_CONST.composeActionPropPrefix(e)+t}};for(var i in FORM_ACTIONS_CONST_SHARED)FORM_ACTIONS_CONST[i]=FORM_ACTIONS_CONST_SHARED[i];var VALIDATOR_CONST={VALIDATOR_ATTRIBUTE_NAME:"field_validator",VALIDATOR_PROP_NAME:"validator",VALIDATION_NONE:0,VALIDATION_NOT_EMPTY:1,VALIDATION_EMAIL:2,VALIDATION_CHAR:3,VALIDATION_NUMBER:4,VALIDATION_PHONE:5,VALIDATION_DATE:6,VALIDATION_RE:7,PHONE_FORMAT_1:1,PHONE_FORMAT_2:2,PHONE_FORMAT_3:3,PHONE_FORMAT_4:4,DATE_FORMAT_1:1,DATE_FORMAT_2:2,DATE_FORMAT_3:3,DATE_FORMAT_4:4},MAP_VALIDATION_ID_IDENT={};MAP_VALIDATION_ID_IDENT[VALIDATOR_CONST.VALIDATION_NONE]="__validator__none",MAP_VALIDATION_ID_IDENT[VALIDATOR_CONST.VALIDATION_NOT_EMPTY]="__validator__not_empty",MAP_VALIDATION_ID_IDENT[VALIDATOR_CONST.VALIDATION_EMAIL]="__validator__email",MAP_VALIDATION_ID_IDENT[VALIDATOR_CONST.VALIDATION_CHAR]="__validator__character",MAP_VALIDATION_ID_IDENT[VALIDATOR_CONST.VALIDATION_NUMBER]="__validator__number",MAP_VALIDATION_ID_IDENT[VALIDATOR_CONST.VALIDATION_PHONE]="__validator__phone",MAP_VALIDATION_ID_IDENT[VALIDATOR_CONST.VALIDATION_DATE]="__validator__date",MAP_VALIDATION_ID_IDENT[VALIDATOR_CONST.VALIDATION_RE]="__validator__reg_exp",VALIDATOR_CONST.VALIDATIONS_LIST={},VALIDATOR_CONST.VALIDATIONS_LIST[VALIDATOR_CONST.VALIDATION_NONE]={name:"None",value:VALIDATOR_CONST.VALIDATION_NONE,options:[]},VALIDATOR_CONST.VALIDATIONS_LIST[VALIDATOR_CONST.VALIDATION_NOT_EMPTY]={name:"Not Empty",value:VALIDATOR_CONST.VALIDATION_NOT_EMPTY,options:[]},VALIDATOR_CONST.VALIDATIONS_LIST[VALIDATOR_CONST.VALIDATION_EMAIL]={name:"Email",value:VALIDATOR_CONST.VALIDATION_EMAIL,options:[]},VALIDATOR_CONST.VALIDATIONS_LIST[VALIDATOR_CONST.VALIDATION_CHAR]={name:"Letter",value:VALIDATOR_CONST.VALIDATION_CHAR,options:["length_from","length_to"]},VALIDATOR_CONST.VALIDATIONS_LIST[VALIDATOR_CONST.VALIDATION_NUMBER]={name:"Number",value:VALIDATOR_CONST.VALIDATION_NUMBER,options:["range_from","range_to"]},VALIDATOR_CONST.VALIDATIONS_LIST[VALIDATOR_CONST.VALIDATION_PHONE]={name:"Phone",value:VALIDATOR_CONST.VALIDATION_PHONE,options:["phone_format"]},VALIDATOR_CONST.VALIDATIONS_LIST[VALIDATOR_CONST.VALIDATION_DATE]={name:"Date",value:VALIDATOR_CONST.VALIDATION_DATE,options:["date_format"]},VALIDATOR_CONST.VALIDATIONS_LIST[VALIDATOR_CONST.VALIDATION_RE]={name:"Regular Expression",value:VALIDATOR_CONST.VALIDATION_RE,options:["reg_exp"]};var FORM_WILDCARDS={0:{match:"date_time",callback:"WC_DateTime()"},1:{match:"date",callback:"WC_Date()"},2:{match:"browser_ver",callback:"navigator.userAgent"},3:{match:"referrer",callback:"document.referrer"}};function WC_Date(){return SK.Util.DateTime.format(null,"short_date_fmt")}function WC_DateTime(){var e=SK.Singletons.env.get("locale"),t=e.short_date_fmt+" "+e.time_fmt;return SK.Util.DateTime.format(null,t)}function Form_SetTextFieldProps(e){var t=e.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_WIDTH);t&&(e.style.width=t+"px");var i=e.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_MAXLENGTH);i&&(e.maxLength=i),Form_InitFieldHint(e)}function Form_SetHiddenFieldProps(e){}function Form_SetFileFieldProps(e){}function Form_SetTextAreaProps(e){var t=e.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_WIDTH);t&&(e.style.width=t+"px");var i=e.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_HEIGHT);i&&(e.style.height=i+"px");var r=e.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_WRAP);null!=r&&""!=r&&(e.wrap=r),Form_InitFieldHint(e)}function Form_SetDropDownProps(oField){var sWidth=oField.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_WIDTH);if(sWidth&&(oField.style.width=sWidth+"px"),oField.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_TYPE)==FIELD_CONST.DROPDOWN_TYPE_LIST){var list_size=oField.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_HEIGHT);list_size&&(oField.size=list_size);var list_height=oField.getAttribute(FIELD_CONST.ATTRIBUTE_HEIGHT);list_height&&(oField.style.height=list_height+"px")}var sOptions=oField.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_OPTIONS).replace(/&quot;/g,'"'),arrOptions=eval("("+sOptions+")");oField.options.length=0;for(var i=0;i<arrOptions.length;i++){var oOptionDef=arrOptions[i],oOption=new Option(oOptionDef.name,oOptionDef.value);oField.options[oField.options.length]=oOption}for(var i=0;i<arrOptions.length;i++){var oOptionDef=arrOptions[i];oField.options[i].selected=oOptionDef.checked}Form_InitFieldHint(oField)}function Form_SetCheckboxProps(e){e.checked=e.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_CHECKED)>0;var t=e.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_VALUE);null!=t&&(e.value=t),Form_InitFieldHint(e)}function Form_SetRadioProps(e){e.checked=e.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_CHECKED)>0;var t=e.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_VALUE);null!=t&&(e.value=t),Form_InitFieldHint(e)}function Form_SetResetProps(e){e.value=e.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_VALUE)}function Form_SetSubmitProps(e){}function Form_AllowFormSubmissionDelayed(e,t){return t.onsubmit=function(){return Form_OnSubmit(e,t)},window.setTimeout(function(){Form_AllowFormSubmission(e,t)},7e3)}function Form_AllowFormSubmission(e,t){t.setAttribute("key_loaded","1");var i=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("name","form_submission_key"),i.setAttribute("value",e),t.appendChild(i)}function Form_OnSubmit(e,t){if(t.getAttribute("submitted")>0||t.getAttribute("processing")>0)return!1;t.setAttribute("processing",1);var i=document.getElementById("form_status_msg_holder_"+e);null!=i&&(i.style.display="none");var r=Form_Validate(t);return r.valid?null!=t.getAttribute("key_loaded")&&t.getAttribute("key_loaded")?(t.setAttribute("submitted",1),t.setAttribute("processing",0),t.elements.do_submit_form_actions.value="go",Form_EventTracker.trackEvent({label:t.getAttribute("name")}),!0):(t.setAttribute("processing",0),!1):(Form_DisplayFormInvalidMessage(e,r.invalid_fields,t,r.nr_errors),t.setAttribute("processing",0),!1)}var Form_EventTracker=new new Class({Implements:[SK.EventTracker||function(){}],et_params:{category:"Form",action:"Submit"}});function Form_DisplayFormInvalidMessage(e,t,i,r){document.getElementById("form_invalid_msg_"+e).innerHTML=(1===r?MSG_INCORRECT_VALUE:MSG_INCORRECT_VALUES).supplant({nr_errors:r}),document.getElementById("form_invalid_msg_holder_"+e).style.display="",Form_ScrollToErrorMessage(e)}function Form_ScrollToErrorMessage(e){var t=_$("form_invalid_msg_holder_"+e);Form_IsElementVisible(t)||(("safari"!==Browser.name&&"chrome"!==Browser.name?document.documentElement:document.body).scrollTop=t.getPosition().y)}function Form_IsElementVisible(e){var t=("safari"!==Browser.name&&"chrome"!==Browser.name?document.documentElement:document.body).scrollTop,i=window.getHeight(),r=e.getPosition().y,o=e.getHeight();return t<=r&&t+i>=r+o}function Form_GetFieldErrHolderId(e){return"err_holder_"+e.name}function Form_Validate(oForm){for(var arrFields=oForm.elements,bValid=!0,arrInvalidFields=[],iNrErrorsFound=0,i=0;i<arrFields.length;i++){var oField=arrFields[i];Form_IsUserCreatedField(oField)&&"submit"!=oField.getAttribute("type")&&"reset"!=oField.getAttribute("type")&&("checkbox"==oField.getAttribute("type")?null!=oField.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_MANDATORY)&&oField.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_MANDATORY)>0&&(oField.checked?Form_SetValidFieldDecoration(oField):(Form_SetInvalidFieldDecoration(oField),iNrErrorsFound++,bValid=!1)):ValidateField(oField)?Form_SetValidFieldDecoration(oField):(Form_SetInvalidFieldDecoration(oField),arrInvalidFields[arrInvalidFields.length]=oField,iNrErrorsFound++,bValid=!1))}Form_InitErrorTooltips();for(var sRadioGroupsProps=oForm.radio_groups_props.value,oRadioGroupsProps=eval("("+sRadioGroupsProps+")"),i=0;i<oRadioGroupsProps.length;i++)if(oRadioGroupsProps[i].checked){var sRadioButtonId=oRadioGroupsProps[i].name,arrRadioButtons=oForm[sRadioButtonId];if(isDefined(arrRadioButtons))if(isDefined(arrRadioButtons.length)&&arrRadioButtons.length>0){for(var bCheckedRadioFound=!1,j=0;j<arrRadioButtons.length;j++)if(Form_SetValidFieldDecoration(arrRadioButtons[j]),arrRadioButtons[j].checked){bCheckedRadioFound=!0;break}if(!bCheckedRadioFound){bValid=!1;for(var j=0;j<arrRadioButtons.length;j++)Form_SetInvalidFieldDecoration(arrRadioButtons[j]);iNrErrorsFound++}}else{var oRadioButton=arrRadioButtons;oRadioButton.checked?Form_SetValidFieldDecoration(oRadioButton):(bValid=!1,iNrErrorsFound++,Form_SetInvalidFieldDecoration(oRadioButton))}}return Form_InitErrorTooltips(),{valid:bValid,invalid_fields:arrInvalidFields,nr_errors:iNrErrorsFound}}function Form_SetInvalidFieldDecoration(e){var t=Form_GetFieldErrHolderId(e=_$(e));if(null==document.getElementById(t)){var i="";i="checkbox"==e.getAttribute("type")?"This is a mandatory field.":"radio"==e.getAttribute("type")?"Please select one of the radio button options.":Validator_GetMessage(e);var r={keyup:Field_HandleChange};["checkbox","radio"].contains(e.getProperty("type"))&&(r.click=Field_HandleChange),e.addClass("form-field-error").removeEvents(r).addEvents(r);var o=Form_GetRadioGroup(e);o&&o.removeEvents(r).addEvents(r);var n=new Element("div",{class:"form-field-error-icon",id:Form_GetFieldErrHolderId(e)});e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),Form_RegisterErrorTooltip(n,i)}}function Form_SetValidFieldDecoration(e){_$(e).removeClass("form-field-error");var t=Form_GetFieldErrHolderId(e),i=document.getElementById(t);null!=i&&i.parentNode.removeChild(i)}function Form_Initialize(e,t){var i=$$("form[name="+t+"]")[0];if(i){for(var r=i.elements,o=0;o<r.length;o++){var n=r[o];Form_IsUserCreatedField(n)&&(Form_SetFieldValidations(n),Form_SetFieldProps(n),Form_SetFieldAutoFill(n))}Form_createHintTooltips(),i.onreset=Form_Reset}}function Form_Reset(){for(var e=this.elements,t=0;t<e.length;t++){var i=e[t];SetFieldValue(i,""),Form_SetFieldProps(i),Form_SetFieldAutoFill(i)}return!1}function Form_GetByFieldById(e,t){for(var i=t.elements,r=0;r<i.length;r++)if(i[r].getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_ID)==e)return i[r];return null}function Form_SetFieldValidations(oField){var sValidator=oField.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_VALIDATOR);if(null!=sValidator){try{var oValidator=eval("("+sValidator+")")}catch(e){return}var sValidatorIdent=MAP_VALIDATION_ID_IDENT[oValidator.id],sValidatorOptions=stringify(oValidator.options);Validator_SetFieldValidators(oField,sValidatorIdent,sValidatorOptions)}}function Form_SetFieldAutoFill(oField){var sAutoFills=oField.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_AUTOFILL);if(null!=sAutoFills){for(var k in FORM_WILDCARDS){var reWildcards=new RegExp("\\$"+FORM_WILDCARDS[k].match+"\\$?");if(sAutoFills.match(reWildcards)){var str_replacement=eval(FORM_WILDCARDS[k].callback);sAutoFills=sAutoFills.replace(reWildcards,str_replacement)}}SetFieldValue(oField,sAutoFills)}}function Form_SetFieldProps(e){var t=Form_GetFieldType(e);e.className=mapFieldType_Props[t].css_class,(0,mapFieldType_Props[t].set_props_function)(e)}function Form_IsUserCreatedField(e){return null!=e.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_ID)}function Form_GetFieldType(e){var t=e.getAttribute("type");return null!=t?t:"TEXTAREA"==e.tagName?FIELD_CONST.TEXTAREA_TYPE:"SELECT"==e.tagName?FIELD_CONST.DROPDOWN_TYPE:null}function Form_GetRadioGroup(e){return"input"==e.get("tag")&&"radio"==e.getProperty("type")?e.getParent("form").getElements('input[type="radio"][name="'+e.getProperty("name")+'"]').filter(':not([value="'+e.getProperty("value")+'"])'):null}function Field_HandleChange(){Form_SetValidFieldDecoration(this),_$(this).removeEvents({keyup:arguments.callee,change:arguments.callee})}var mapFieldType_Props=[];function Form_setMapField(){mapFieldType_Props.text={css_class:"textfield",set_props_function:Form_SetTextFieldProps},mapFieldType_Props.password=mapFieldType_Props.text,mapFieldType_Props.hidden={css_class:"",set_props_function:Form_SetHiddenFieldProps},mapFieldType_Props.file={css_class:"filefield",set_props_function:Form_SetFileFieldProps},mapFieldType_Props[FIELD_CONST.TEXTAREA_TYPE]={css_class:"textareafieldsmall",set_props_function:Form_SetTextAreaProps},mapFieldType_Props[FIELD_CONST.DROPDOWN_TYPE]={css_class:"selectobject",set_props_function:Form_SetDropDownProps},mapFieldType_Props.checkbox={css_class:"checkbox",set_props_function:Form_SetCheckboxProps},mapFieldType_Props.radio={css_class:"radio",set_props_function:Form_SetRadioProps},mapFieldType_Props.reset={css_class:"button",set_props_function:Form_SetResetProps},mapFieldType_Props.submit={css_class:"button",set_props_function:Form_SetSubmitProps}}function Form_InitFieldHint(e){var t=e.getAttribute(FIELD_CONST.ATTRIBUTE_FIELD_HINT);t&&Form_RegisterTooltip(_$(e),t)}var Form_RegisteredTooltips=[];function Form_RegisterTooltip(e,t){Form_IsTooltipRegistered(e)||Form_RegisteredTooltips.push({field:e,hint:t})}function Form_IsTooltipRegistered(e){for(var t=0,i=Form_RegisteredTooltips.length;t<i;t+=1)if(Form_RegisteredTooltips[t].field===e)return!0;return!1}function Form_createHintTooltips(){for(var e=0,t=Form_RegisteredTooltips.length;e<t;e+=1){var i=Form_RegisteredTooltips[e].field,r=Form_RegisteredTooltips[e].hint;new SK.UI.Tooltip(_$(i),{orientation:"horizontal",text:r})}}var FF_mouse_y=0,FF_mouse_x=0;function SetFFMouseCoords(e){FF_mouse_y=e.pageY,FF_mouse_x=e.pageX}window.onmousemove=SetFFMouseCoords;var FormErrorTooltips=new Elements([]);function Form_RegisterErrorTooltip(e,t){e.setAttribute("title",t),FormErrorTooltips.push(e)}function Form_InitErrorTooltips(){new SK.UI.Tooltips(FormErrorTooltips,{orientation:"horizontal"}),delete FormErrorTooltips,FormErrorTooltips=new Elements([])}function GetFieldValue(e){var t;return"text"==e.type||"file"==e.type||"hidden"==e.type||"password"==e.type||"TEXTAREA"==e.tagName?t=e.value:"checkbox"==e.type?t=e.checked:"radio"==e.type?t=e.value:"SELECT"==e.tagName&&(t=-1==e.selectedIndex?"":e.options[e.selectedIndex].value),t}function SetFieldValue(e,t){if(!e)return!1;if("text"==e.type||"password"==e.type||"TEXTAREA"==e.tagName)e.value=null!=t?t:"";else if("hidden"==e.type)null!=t&&""!=t&&(e.value=t);else if("checkbox"==e.type){var i=!1;i="true"==t||"false"!=t&&(t>0||t),e.checked=i}else if("radio"==e.type);else if("SELECT"==e.tagName)return ListSetSelectedValue(e,t,!1);return!0}function ListSetSelectedValue(e,t,i){if(e){ListResetSelection(e);for(var r=!1,o=0;o<e.options.length;o++)if(e.options[o].value==t){e.options[o].selected=!0,r=!0;break}return!r&&i&&e.options.length>0&&(e.options[0].selected=!0),r}}function ListResetSelection(e){if(e)for(var t=0;t<e.options.length;t++)e.options[t].selected=!1}function ListMoveOptions(e,t){for(var i=document.getElementById(t),r=(document.getElementById(e),ListCutSelectedOptions(e)),o=0;o<r.length;o++)r[o].selected=!1,i.options[i.options.length]=r[o]}function ListCutSelectedOptions(e){var t=document.getElementById(e);if(!t)return[];for(var i=[],r=0;r<t.options.length;r++)t.options[r].selected&&""!=t.options[r].value&&(i[i.length]=t.options[r],t.remove(r),r--);return i}function Filter_Trim(e){return e.trim()}function Filter_Integer(e){return isNaN(parseInt(e,10))?"":parseInt(e,10)}var MapFilterName_Filter={__filter__trim:Filter_Trim,__filter__int:Filter_Integer};function FilterFieldValue(e,t){for(var i=e,r=t.split(","),o=0;o<r.length;o++){var n=r[o].trim();isDefined(MapFilterName_Filter[n])&&(i=MapFilterName_Filter[n](i))}return i}function FilterField(e,t){SetFieldValue(e,FilterFieldValue(GetFieldValue(e),t))}function Validator_None(e){return!0}function Validator_None_Message(){return""}function Validator_IsInteger(e){return parseInt(e).toString().length==e.toString().length&&!isNaN(parseInt(e,10))}function Validator_IsInteger_Message(){return"An integer number is required."}function Validator_IsPositiveInteger(e){return Validator_IsInteger(e)&&e>0}function Validator_IsPositiveInteger_Message(){return"A positive integer number is required."}function Validator_IsNonNegativeInteger(e){return Validator_IsInteger(e)&&e>=0}function Validator_IsNonNegativeInteger_Message(){return"A non-negative integer number is required."}function Validator_IsNotEmpty(e){return""!=e.toString()}function Validator_IsNotEmpty_Message(){return"This is a mandatory field."}function Validator_EmptyOrPositiveInteger(e){return!Validator_IsNotEmpty(e)||Validator_IsPositiveInteger(e)}function Validator_EmptyOrPositiveInteger_Message(){return"Either enter a positive integer number or leave the field empty."}function Validator_EmptyOrNonNegativeInteger(e){return!Validator_IsNotEmpty(e)||Validator_IsNonNegativeInteger(e)}function Validator_EmptyOrNonNegativeInteger_Message(){return"Either enter a non-negative integer number or leave the field empty."}function Validator_Email(e){return/^([\u0030-\u0039\u0041-\u005a\u0061-\u007a\u0400-\u04FF\u0391-\u03CE\u0080-\u00FF\u0150\u0151\u0170\u0171\u04F2\u04F3\-\_\.])*\@(([\u0030-\u0039\u0041-\u005a\u0061-\u007a\u0400-\u04FF\u0391-\u03CE\u0080-\u00FF\u0150\u0151\u0170\u0171\u04F2\u04F3\-\_\.]*)\.)([\u0030-\u0039\u0041-\u005a\u0061-\u007a\u0400-\u04FF\u0391-\u03CE\u0080-\u00FF\u0150\u0151\u0170\u0171\u04F2\u04F3]*)/i.test(e)}function Validator_Email_Message(){return"Please enter a valid email address."}function Validator_Character(e,t){if(null==e.match(/^[a-z\n\r]+$/i))return!1;if(isDefined(t)){if(e=e.replace(/\n|\r/g,""),isDefined(t.length_from)&&""!=t.length_from&&e.toString().length<t.length_from)return!1;if(isDefined(t.length_to)&&""!=t.length_to&&e.toString().length>t.length_to)return!1}return!0}function Validator_Character_Message(e){if(isDefined(e)){var t="";if(e.length_from&&(t+="Enter not less than "+e.length_from+" letters."),e.length_to&&(t+="Enter not more than "+e.length_to+" letters."),e.length_from&&e.length_to&&(t="Enter not less than "+e.length_from+" and not more than "+e.length_to+" letters."),""!=t)return t}return"This is a mandatory field. Please note this field accepts only letters."}function Validator_Number(e,t){if(null==e.match(/^[\-]*[\d]+[\.]{0,1}[\d]*$/))return!1;if(isDefined(t)){if(isDefined(t.range_from)&&""!=t.range_from.toString()&&parseFloat(e)<parseFloat(t.range_from))return!1;if(isDefined(t.range_to)&&""!=t.range_to.toString()&&parseFloat(e)>parseFloat(t.range_to))return!1}return!0}function Validator_Number_Message(e){if(isDefined(e)){var t="",i=!1;isDefined(e.range_from)&&""!=e.range_from.toString()&&(t+="Enter a number not less than "+e.range_from+".",i=!0);var r=!1;if(isDefined(e.range_to)&&""!=e.range_to.toString()&&(t+="Enter a number up to "+e.range_to+".",r=!0),i&&r&&(t="Enter a number between "+e.range_from+" and "+e.range_to+"."),""!=t)return t}return"This is a mandatory field. Please note this field accepts only numbers."}var mapPhoneFormat_Data={1:{reg_exp:/^\(\d{3}\) \d{3} \d{4}$/,format:"(310) 571 3135"},2:{reg_exp:/^\d{3}\.\d{3}\.\d{4}$/,format:"310.571.3135"},3:{reg_exp:/^\d{3} \d{3} \d{4}$/,format:"310 571 3135"},4:{reg_exp:/^\d{3}\-\d{3}\-\d{4}$/,format:"310-571-3135"}};function Validator_Phone(e,t){if(isDefined(t)&&isDefined(t.phone_format)){var i=t.phone_format,r=mapPhoneFormat_Data[i];if(isDefined(r)){var o=r.reg_exp;return null!=e.match(o)}}var n=e.replace(/[^\d]+/g,"");return null!=e.match(/^[\(\)\.x\ \-\d]+$/)&&n.toString().length>4}function Validator_Phone_Message(e){if(isDefined(e)&&isDefined(e.phone_format)){var t=e.phone_format,i=mapPhoneFormat_Data[t];if(isDefined(i))return"The required phone number format is ["+i.format+"]."}return"Please enter a valid phone number. At least 5 digits, allowed characters are numbers, space, dot, dash, x and parentheses."}var mapDateFormat_Data={1:{handler:ValidDate_1,format:"YYYY-MM-DD"},2:{handler:ValidDate_2,format:"YY-MM-DD"},3:{handler:ValidDate_3,format:"DD-MM-YYYY"},4:{handler:ValidDate_4,format:"DD-MM-YY"}};function IsValidDateCombination(e,t,i){return!(e<0)&&(!(i<1||i>31)&&!(t<1||t>12))}function ValidDate_1(e){var t=/^(\d{4})\-(\d{2})\-(\d{2})$/;if(null==e.match(t))return!1;t.exec(e);return IsValidDateCombination(parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10))}function ValidDate_2(e){var t=/^(\d{2})\-(\d{2})\-(\d{2})$/;if(null==e.match(t))return!1;t.exec(e);return IsValidDateCombination(parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10))}function ValidDate_3(e){var t=/^(\d{2})\-(\d{2})\-(\d{4})$/;if(null==e.match(t))return!1;t.exec(e);return IsValidDateCombination(parseInt(RegExp.$3,10),parseInt(RegExp.$2,10),parseInt(RegExp.$1,10))}function ValidDate_4(e){var t=/^(\d{2})\-(\d{2})\-(\d{2})$/;if(null==e.match(t))return!1;t.exec(e);return IsValidDateCombination(parseInt(RegExp.$3,10),parseInt(RegExp.$2,10),parseInt(RegExp.$1,10))}function Validator_Date(e,t){if(e=e.replace(/[\/\.\\]+/g,"-"),isDefined(t)&&isDefined(t.date_format)){var i=t.date_format,r=mapDateFormat_Data[i];if(isDefined(r))return(0,r.handler)(e)}return!1}function Validator_Date_Message(e){if(isDefined(e)&&isDefined(e.date_format)){var t=e.date_format,i=mapDateFormat_Data[t];if(isDefined(i))return"Please enter a valid date. The correct date format is "+i.format+"."}return"Enter a valid date."}function Validator_RegExp(vValue,oOptions){if(isDefined(oOptions)&&isDefined(oOptions.reg_exp)){var sRegExp=oOptions.reg_exp;-1==sRegExp.indexOf("/")&&(sRegExp="/"+sRegExp+"/");var oRegExp=eval(sRegExp);return null!=vValue.match(oRegExp)}return!0}function Validator_RegExp_Message(e){return isDefined(e)&&isDefined(e.reg_exp)?"A value that matches the regular expression ["+e.reg_exp+"] is required.":""}var MapValidatorName_Validator={__validator__int:Validator_IsInteger,__validator__positive_int:Validator_IsPositiveInteger,__validator__nonnegative_int:Validator_IsNonNegativeInteger,__validator__not_empty:Validator_IsNotEmpty,__validator__empty_or_positive_int:Validator_EmptyOrPositiveInteger,__validator__empty_or_nonnegative_int:Validator_EmptyOrNonNegativeInteger,__validator__none:Validator_None,__validator__email:Validator_Email,__validator__character:Validator_Character,__validator__number:Validator_Number,__validator__phone:Validator_Phone,__validator__date:Validator_Date,__validator__reg_exp:Validator_RegExp},MapValidatorName_Message={__validator__int:Validator_IsInteger_Message,__validator__positive_int:Validator_IsPositiveInteger_Message,__validator__nonnegative_int:Validator_IsNonNegativeInteger_Message,__validator__not_empty:Validator_IsNotEmpty_Message,__validator__empty_or_positive_int:Validator_EmptyOrPositiveInteger_Message,__validator__empty_or_nonnegative_int:Validator_EmptyOrNonNegativeInteger_Message,__validator__none:Validator_None_Message,__validator__email:Validator_Email_Message,__validator__character:Validator_Character_Message,__validator__number:Validator_Number_Message,__validator__phone:Validator_Phone_Message,__validator__date:Validator_Date_Message,__validator__reg_exp:Validator_RegExp_Message};function ValidateFieldValue(e,t,i){return!isDefined(MapValidatorName_Validator[t])||MapValidatorName_Validator[t](e,i)}var ATTRIBUTE_VALIDATOR_VALUE="value_validator",ATTRIBUTE_VALIDATOR_OPTIONS="validator_options";function ValidateField(oField){var sValidatorValue=oField.getAttribute(ATTRIBUTE_VALIDATOR_VALUE);if(null!=sValidatorValue){var oOptions=null,sOptions=oField.getAttribute(ATTRIBUTE_VALIDATOR_OPTIONS);return null!=sOptions&&(oOptions=eval("("+sOptions+")")),ValidateFieldValue(GetFieldValue(oField),sValidatorValue,oOptions)}return!0}function CheckFieldValidation(e){ValidateField(e)||RTE_GetById("rte_1").errorMessage("Incorrect Value!\n\nValue should be validated as:\n"+Validator_GetMessage(e))}function Validator_SetFieldValidators(e,t,i){i&&e.setAttribute(ATTRIBUTE_VALIDATOR_OPTIONS,i),e.setAttribute(ATTRIBUTE_VALIDATOR_VALUE,t)}function Validator_SetFieldEvents(e,t){t||(t="CheckFieldValidation(this)"),"INPUT"==e.tagName||"TEXTAREA"==e.tagName?"checkbox"==e.getAttribute("type")||"radio"==e.getAttribute("type")?e.onclick=new Function(t):e.onblur=new Function(t):"SELECT"==e.tagName&&(e.onchange=new Function(t))}function Validator_GetMessage(oField){var vValidator=oField.getAttribute(ATTRIBUTE_VALIDATOR_VALUE);if(null!=vValidator){var oOptions=null,sOptions=oField.getAttribute(ATTRIBUTE_VALIDATOR_OPTIONS);if(null!=sOptions&&(oOptions=eval("("+sOptions+")")),isDefined(MapValidatorName_Message[vValidator]))return MapValidatorName_Message[vValidator](oOptions)}return""}function isAlien(e){return isObject(e)&&"function"!=typeof e.constructor}function isArray(e){return isObject(e)&&e.constructor==Array}function isBoolean(e){return"boolean"==typeof e}function isEmpty(e){var t,i;if(isObject(e))for(t in e)if(isUndefined(i=e[t])&&isFunction(i))return!1;return!0}function isFunction(e){return"function"==typeof e}function isNull(e){return"object"==typeof e&&!e}function isNumber(e){return"number"==typeof e&&isFinite(e)}function isObject(e){return e&&"object"==typeof e||isFunction(e)}function isString(e){return"string"==typeof e}function isUndefined(e){return void 0===e}function isDefined(e){return void 0!==e}function stringify(e){var t,i,r;switch(typeof e){case"object":if(e){if(e.constructor==Array){for(i="[",t=0;t<e.length;++t)"function"==(r=stringify(e[t]))||isUndefined(r)?i+=",":i+=("["!=i?",":"")+r;return i+"]"}if(void 0!==e.toString){for(t in i="{",e)"function"==(r=stringify(e[t]))||isUndefined(r)||(i+=("{"!=i?",":"")+t.quote()+":"+r);return i+"}"}return}return"null";case"unknown":case"undefined":return;case"string":return e.quote();case"function":return"function";default:return String(e)}}String.prototype.entityify=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},String.prototype.quote=function(){return'"'+this.replace(/(["\\])/g,"\\$1")+'"'},String.prototype.supplant=function(e,t,i){for(var r,o,n,a=this,s=0,l=isUndefined(e.__open_tag)?"{":e.__open_tag,_=isUndefined(e.__close_tag)?"}":e.__close_tag;!((r=s+a.substring(s,a.length).indexOf(l))<0)&&!(r+1<=s)&&-1!=(o=a.indexOf(_,r+1));){if(isUndefined(n=isDefined(i)?i(a.substring(r+1,o),e):e[a.substring(r+1,o)])){if(!t){s=r+1;continue}n=""}a=a.substring(0,r)+n+a.substring(o+1)}return a},String.prototype.trim=function(){return this.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1")},isFunction(Function.apply)||(Function.prototype.apply=function(e,t){var i,r="____apply";switch(isObject(e)||(e={}),e[r]=this,t&&t.length||0){case 0:i=e[r]();break;case 1:i=e[r](t[0]);break;case 2:i=e[r](t[0],t[1]);break;case 3:i=e[r](t[0],t[1],t[2]);break;case 4:i=e[r](t[0],t[1],t[2],t[3]);break;case 5:i=e[r](t[0],t[1],t[2],t[3],t[4]);break;case 6:i=e[r](t[0],t[1],t[2],t[3],t[4],t[5])}return delete e[r],i}),Function.prototype.inherits=function(e){var t=0,i=this.prototype=new e;return this.prototype.uber=function(r){var o,n,a=t,s=e.prototype;if(a){for(;a;)s=s.constructor.prototype,a-=1;o=s[r]}else(o=i[r])==this[r]&&(o=s[r]);return t+=1,n=o.apply(this,Array.prototype.slice.apply(arguments,[1])),t-=1,n},this},Function.prototype.swiss=function(e){for(var t=1;t<arguments.length;t+=1){var i=arguments[t];this.prototype[i]=e.prototype[i]}return this};